<header
  id="header"
  class="bg-[#fff6e7] p-4 shadow-md relative flex items-center justify-between min-h-16 z-50"
>
  <div class="flex items-center gap-4">
    <h1 class="text-lg font-semibold">MIS XV AÑOS</h1>
  </div>

  <!-- Menú escritorio -->
  <ul
    class="hidden md:flex items-center gap-6 justify-end [&>li]:font-semibold [&>li]:hover:text-green-800"
  >
    <li><a href="">MIS XV</a></li>
    <li><a href="">CUENTA REGRESIVA</a></li>
    <li><a href="">MI CANCIÓN</a></li>
    <li><a href="">MI HISTORIA</a></li>
    <li><a href="">PADRES Y PADRINOS</a></li>
    <li><a href="">LUGAR Y FECHA</a></li>
    <li><a href="">CONFIRMAR ASISTENCIA</a></li>
    <li><a href="">GALERIA DE FOTOS</a></li>
  </ul>
</header>

<!-- Botón hamburguesa FIXED fuera del header -->
<button
  id="menu-toggle"
  aria-label="Toggle Menu"
  class="fixed top-4 right-4 z-[9999] flex flex-col justify-between w-8 h-6 md:hidden bg-transparent"
>
  <span
    class="block h-[3px] bg-black w-full rounded transition-all duration-300 origin-left"
  ></span>
  <span
    class="block h-[3px] bg-black w-full rounded transition-all duration-300 origin-left"
  ></span>
  <span
    class="block h-[3px] bg-black w-full rounded transition-all duration-300 origin-left"
  ></span>
</button>

<!-- Overlay -->
<div
  id="overlay"
  class="fixed inset-0 hidden z-40 md:hidden cursor-default transition-opacity duration-300 opacity-0 pointer-events-none"
  style="backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); background-color: rgba(255,255,255,0.3);"
>
</div>

<!-- Menú móvil -->
<ul
  id="mobile-menu"
  class="fixed top-0 right-0 h-full w-2/3 max-w-xs bg-[#fff6e7] p-6 space-y-4 transform translate-x-full transition-transform duration-300 z-50 md:hidden md:gap-6 md:items-center md:space-y-0 md:p-0"
>
  <li><a href="">MIS XV</a></li>
  <li><a href="">CUENTA REGRESIVA</a></li>
  <li><a href="">MI CANCIÓN</a></li>
  <li><a href="">MI HISTORIA</a></li>
  <li><a href="">PADRES Y PADRINOS</a></li>
  <li><a href="">LUGAR Y FECHA</a></li>
  <li><a href="">CONFIRMAR ASISTENCIA</a></li>
  <li><a href="">GALERIA DE FOTOS</a></li>
</ul>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("menu-toggle")!;
    const menu = document.getElementById("mobile-menu")!;
    const overlay = document.getElementById("overlay")!;

    if (!toggle || !menu || !overlay) return;

    const bars = toggle.querySelectorAll("span");

    function closeMenu() {
      menu.classList.add("translate-x-full");

      overlay.classList.add("opacity-0", "pointer-events-none");
      setTimeout(() => {
        overlay.classList.add("hidden");
      }, 300);

      bars[0].classList.remove("rotate-45");
      bars[1].classList.remove("opacity-0");
      bars[2].classList.remove("-rotate-45");
    }

    toggle.addEventListener("click", () => {
      const isMenuOpen = !menu.classList.contains("translate-x-full");

      if (isMenuOpen) {
        closeMenu();
      } else {
        menu.classList.remove("translate-x-full");

        overlay.classList.remove("hidden");
        setTimeout(() => {
          overlay.classList.remove("opacity-0", "pointer-events-none");
        }, 10);

        bars[0].classList.add("rotate-45");
        bars[1].classList.add("opacity-0");
        bars[2].classList.add("-rotate-45");
      }
    });

    overlay.addEventListener("click", closeMenu);
  });
</script>
